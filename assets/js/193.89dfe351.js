(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{487:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"django框架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#django框架"}},[s._v("#")]),s._v(" Django框架")]),s._v(" "),a("h3",{attrs:{id:"创建与使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建与使用"}},[s._v("#")]),s._v(" 创建与使用")]),s._v(" "),a("blockquote",[a("p",[s._v("使用PyCharm创建django项目")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("├── manage.py\n└── demo\n    ├── __init__.py\n    ├── settings.py\n    ├── urls.py\n    └── wsgi.py\n")])])]),a("h5",{attrs:{id:"关于上面自动生成的目录与文件解释如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于上面自动生成的目录与文件解释如下"}},[s._v("#")]),s._v(" 关于上面自动生成的目录与文件解释如下：")]),s._v(" "),a("ul",[a("li",[s._v("manage.py：\n"),a("ul",[a("li",[s._v("一个命令行实用程序，可以让您以各种方式与此Django项目进行交互。你可以阅读所有的细节 manage.py在Django的管理和manage.py。")])])]),s._v(" "),a("li",[s._v("内部demo/目录是您的项目的实际Python包。\n"),a("ul",[a("li",[s._v("它的名字是您需要用来导入其中的任何内容的Python包名称（例如demo.urls）。")])])]),s._v(" "),a("li",[s._v("demo/"),a("strong",[s._v("init")]),s._v(".py：\n"),a("ul",[a("li",[s._v("一个空的文件，告诉Python这个目录应该被认为是一个Python包。")])])]),s._v(" "),a("li",[s._v("demo/settings.py：\n"),a("ul",[a("li",[s._v("此Django项目的设置/配置。 Django设置会告诉你所有关于设置的工作原理。")])])]),s._v(" "),a("li",[s._v("demo/urls.py：\n"),a("ul",[a("li",[s._v("该Django项目的URL声明; 您的Django动力网站的“目录”。")])])]),s._v(" "),a("li",[s._v("demo/wsgi.py：\n"),a("ul",[a("li",[s._v("WSGI兼容的Web服务器为您的项目提供服务的入口点。")])])])]),s._v(" "),a("h4",{attrs:{id:"运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[s._v("#")]),s._v(" 运行")]),s._v(" "),a("p",[s._v("运行以下命令：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python manage.py runserver\n")])])]),a("p",[s._v("以上说明已经开始使用Django的开发服务器，这是一个纯粹以Python编写的轻量级Web服务器。 我们将其与Django结合在一起，因此您可以快速开发，而无需处理配置生产服务器（如Apache），直到您准备好生产。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("默认情况下，该runserver命令在端口8000的内部IP上启动开发服务器。当然也可以指定端口开启服务,如8080端口：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python manage.py runserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n")])])])]),s._v(" "),a("li",[a("p",[s._v("如果要更改服务器的IP，请将其与端口一起传递。例如：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python manage.py runserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":8000\n")])])])])]),s._v(" "),a("p",[s._v("注意：通过IP访问后报如下错误：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("    DisallowedHost at /polls\n    Invalid HTTP_HOST header: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'192.168.*.*:8000'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" You may need to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'192.168.*.*'")]),s._v(" to ALLOWED_HOSTS.\n    HTTP_HOST标头无效："),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'192.168.*.*:8000'")]),s._v("。您可能需要将“192.168.*.*”添加到ALLOWED_HOSTS\n    如：ALLOWED_HOSTS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'192.168.104.240'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h4",{attrs:{id:"创建一个应用程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个应用程序"}},[s._v("#")]),s._v(" 创建一个应用程序")]),s._v(" "),a("blockquote",[a("p",[s._v("Django自带一个实用程序，可以自动生成应用程序的基本目录结构，因此您可以专注于编写代码而不是创建目录。")])]),s._v(" "),a("ul",[a("li",[s._v("要创建您的应用程序，在根目录下，输入")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python manage.py startapp show\n")])])]),a("p",[s._v("这将创建一个目录show，其目录如下：此目录结构将容纳轮询应用程序。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("demo/\n├── manage.py\n├── demo\n│   ├── __init__.py\n│   ├── settings.py\n│   ├── urls.py\n│   └── wsgi.py\n└── show\n    ├── admin.py\n    ├── apps.py\n    ├── __init__.py\n    ├── migrations\n    │   └── __init__.py\n    ├── models.py\n    ├── tests.py\n    └── views.py\n")])])]),a("h4",{attrs:{id:"定义s第一个视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义s第一个视图"}},[s._v("#")]),s._v(" 定义s第一个视图")]),s._v(" "),a("ul",[a("li",[s._v("打开文件show/views.py 并放入以下Python代码：")])]),s._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("http "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" HttpResponse\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" HttpResponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello, python-django"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("ul",[a("li",[a("p",[s._v("这是Django中最简单的视图。要调用视图，我们需要将其映射到一个URL")])]),s._v(" "),a("li",[a("p",[s._v("在show目录中创建一个urls.py的文件：")])])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("└── show\n    ├── admin.py\n    ├── apps.py\n    ├── __init__.py\n    ├── migrations\n    │   └── __init__.py\n    ├── models.py\n    ├── tests.py\n    ├── urls.py\n    └── views.py\n")])])]),a("ul",[a("li",[s._v("在urls.py中配置urlpatterns")])]),s._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# user/bin/python")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Author:ZQD")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -*- coding: utf-8  -*-")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" path\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" views\n\nurlpatterns "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("ul",[a("li",[s._v("将show应用中的url引入，配置文件路径")])]),s._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contrib "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" admin\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" include\n\nurlpatterns "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'admin/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'show/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'show.urls'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("ul",[a("li",[a("p",[s._v("其中include()函数允许引用其他url。请注意，该include()函数的正则表达式 没有$（字符串匹配字符），而是尾部的斜杠。 每当Django遇到时 include()，它会排除与该点匹配的任何部分，并将剩余的字符串发送到随附的url进行进一步处理。")])]),s._v(" "),a("li",[a("p",[s._v("注：include()当您包含其他网址格式时，您应始终使用。 admin.site.urls是唯一的例外。")])]),s._v(" "),a("li",[a("p",[s._v("运行项目")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("python manage.py runserver\n")])])])]),s._v(" "),a("li",[a("p",[s._v("在浏览器中输入"),a("code",[s._v("localhost:8000/test/index")])])]),s._v(" "),a("li",[a("p",[s._v("页面显示"),a("code",[s._v("Hello, python-django")]),s._v("即在index中写的输出文本内容，说明应用就成功运行了")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);