(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{343:function(n,e,t){"use strict";t.r(e);var a=t(4),o=Object(a.a)({},(function(){var n=this._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v('1.创建user administrator\n\n> use admin\n> db.createUser(\n> {\n> user: "myUserAdmin",\n> pwd: "abc123",\n> roles: [ { role: "userAdminAnyDatabase", db: "admin" } ]\n> }\n> )\n> 关于roles\n> 官方文档：https://docs.mongodb.com/manual/reference/built-in-roles/\n> 常用的有：\n\n数据库普通用户角色\nread\nreadWrite\n数据库管理者角色\ndbAdmin\ndbOwner:\nuserAdmin\n集群管理角色\nclusterAdmin\nclusterManager\nclusterMonitor\nhostManager\n备份与还原角色\nbackup\nrestore\n所有数据库角色（对所有数据库有效）\nreadAnyDatabase\nreadWriteAnyDatabase\nuserAdminAnyDatabase\ndbAdminAnyDatabase\n超级角色\nroot\n内部角色\n__system\n2.启用验证\n/etc/mongo.conf中\n\nsecurity:\n  authorization: enabled\n1\n2\n3.重启mongo\n\n> sudo service mongod restart\n> 1\n> 4.再次登录即需要密码\n> 此时可以\n\n1. 先连接，再认证\n\nsomehow@ubuntu:/home/wwwroot$ mongo\nMongoDB shell version v3.4.10\nconnecting to: mongodb://127.0.0.1:27017\nMongoDB server version: 3.4.10\n\n> use admin\n> switched to db admin\n> db.auth(\'root\',\'root\')\n>\n> 1\n>\n> 其中1代表认证成功\n\n2.连接时认证\n\nmongo -u root -p root --authenticationDatabase \'admin\'\n1\n类似于mysql的验证，authenticationDatabase是认证时的数据库\n')])])])])}),[],!1,null,null,null);e.default=o.exports}}]);